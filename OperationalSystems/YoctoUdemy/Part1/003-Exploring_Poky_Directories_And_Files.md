<!-- vscode-markdown-toc -->
* 1. [V030 Explore Poky Directories](#V030ExplorePokyDirectories)
* 2. [V031 Exploring Build Folder](#V031ExploringBuildFolder)
* 3. [V032 BB_NUMBER_THREADS](#V032BB_NUMBER_THREADS)
* 4. [V033 PARALLEL_MAKE](#V033PARALLEL_MAKE)
* 5. [V034 Where should we place contents of local.conf](#V034Whereshouldweplacecontentsoflocal.conf)
* 6. [V035 Other Directories](#V035OtherDirectories)
* 7. [V036 Build Workflow](#V036BuildWorkflow)
* 8. [V037 Images Generated by Poky Build](#V037ImagesGeneratedbyPokyBuild)
* 9. [V038 Save Disk Space](#V038SaveDiskSpace)
* 10. [V039 Challenge](#V039Challenge)
* 11. [V040 Resources](#V040Resources)

<!-- vscode-markdown-toc-config
	numbering=true
	autoSave=true
	/vscode-markdown-toc-config -->
<!-- /vscode-markdown-toc -->

##  1. <a name='V030ExplorePokyDirectories'></a>V030 Explore Poky Directories
- Source tree:
  - `bitbake`: hols all py scripts used by the bitbake command, `bitbake/bin` is placed into the PATH environmental variable so bitbakecan be found.
  - `documentation`: all documentaiton sources for the yocto project documentation, can be used to generate nice pdfs
  - `meta`: contains the `oe-core` metadata
  - `meta-poky`: holds the configuration for the POKY reference distribution `local.conf.sample`, `bblayers.conf.sample` are present here.
  - `meta-skeleton`: contains template recipes for BSP and kernel development
  - `meta-yocto-bsp`: maintains several BASPs such as te Beaglebone, EdgeRouter, and generic versions of both 32-bit and 64-bit IA machines
  - `scripts`: contains scripts used to set up the environment, development tools and tools to flash the generated images on the target.
  - `LICENSE`:Poky license ( a mix of GPLv2 and MIT).
##  2. <a name='V031ExploringBuildFolder'></a>V031 Exploring Build Folder
- `conf` folder:
  - `source poky/oe-init-build-env` creates a `build` folder. Inside this folder the `conf` folder is located.
  - It contains:
    - `local.conf`:
      - Configures almost every aspect of the build system.
      - Contains local user settings
        - `MACHINE`: the machine target e.g., `qemux86-64`
        - `DL_DIR`: where to place downloads
          - During a first build the system will download many different source code from various upstream projects.
          - The default is a download directory under `TOPDIR` which is the build directory.
        - `TMP_DIR`: Wheere to place the build output
          - This option specifies where the bulk of the building work should be done and where bitbake should place its temporary files (source extraction, compilation) and output.
        - NOTE: `local.conf` is a convenient way to override several default configurations, but it is considered as a temporary change as the `build/conf/local.conf` file is not usually tracked by any source code management system.
    - `bblayers.conf`:
      - tells bitbake what layers have to be included in the build
      - It can ba added new layers (manually) in the `BBLAYERS` variable


##  3. <a name='V032BB_NUMBER_THREADS'></a>V032 BB_NUMBER_THREADS
- It determines the number of tasks that **bitbake will perform in parallel**.
- Default: number of CPUs on the system.
- Command to know `$ bitbake -e core-image-minimal | grep ^BB_NUMBER_THREADS=`
- It can be modified in the `local.conf` file

##  4. <a name='V033PARALLEL_MAKE'></a>V033 PARALLEL_MAKE
- Corresponds to the `-j` make option
- specififes the number of processes that GNU make can tun in parallel on a compilation task
- Defaults to the number of CPUs on the system
- Command to know `$ bitbake -e core-image-minimal | grep ^PARALLEL_MAKE=`


##  5. <a name='V034Whereshouldweplacecontentsoflocal.conf'></a>V034 Where should we place contents of local.conf
- Everithing in your local.conf should be moved to your own distro configuration.
- Finally, you should only set `DISTRO` to your own distro in `local.conf`


##  6. <a name='V035OtherDirectories'></a>V035 Other Directories
- `downloads`: downloaded upstram `tarbals/git` repositories of the recipes used in the build
- `sstate-cache` shared state cache
- `tmp` holds all the build system output
  - Images are present here `tmp/deploy/images/machine`
- `cache` used by the bitbake's parser
- 
##  7. <a name='V036BuildWorkflow'></a>V036 Build Workflow
1. Developers specify architecture, policies, patcvhes and configuration details
2. The build system:
   1.  fetches and downloads the source code from the specified location
   2.  supports downloadsing tarballs and source code repository systems such as `git/svn`
3. extracts the sources into a local work area
4. patches are applied
5. steps for configuring and compiling the software are run.
6. installs the software into a temporary staging area (depending on the user configuration, `deb/rpm/ipg` binaries are generated)
7. The build system generates a binary package feed that is used to create the final root file image.
8. finally generates the file system image and a customized extensible SDK `eSDK` for application development in parallel.

##  8. <a name='V037ImagesGeneratedbyPokyBuild'></a>V037 Images Generated by Poky Build
- The build process writes images out of the Build Directory inside the `tmp/deploy/images/machine/` folder
 1. `kernel-image`: A kernel binary file 
 2. `root-filesystem-image`: Root filesystems for the target device e.g., `.ext3` or `.bz2` files.  
 3. `kernel-modules`: Tarballs that contain all the modules built for the kernel
 4. `bootloaders`: Is applicable to the target macine, bootloaders supporting the image.

##  9. <a name='V038SaveDiskSpace'></a>V038 Save Disk Space
- Yocto Build System can take a lot of disk space during build. But bitbake provides options to preserve disk space.
- You can tell bitbake to delete all the source code, build files after building a particular recipe by adding the following line in `local.conf` file.
  - `INHERIT += "rm_work"`
- Disadvantage: Difficult to debug while build fails of any recipe.
- For example, if you want to exlude bitbake deleting source code of a particular package, you can add it in `RM_WORK_EXLUDE += "recipe-name"`
  - e.g., `RM_WORK_EXCLUDE += "core-image-minimal"`


##  10. <a name='V039Challenge'></a>V039 Challenge
- Nothing

##  11. <a name='V040Resources'></a>V040 Resources
- Nothing