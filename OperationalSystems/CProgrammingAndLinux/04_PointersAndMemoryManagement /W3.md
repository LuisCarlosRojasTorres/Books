<!-- vscode-markdown-toc -->
* 1. [Allocate memory at runtime](#Allocatememoryatruntime)
* 2. [Allocating memory at runtime](#Allocatingmemoryatruntime)
* 3. [Freeing dynamically allocated memory](#Freeingdynamicallyallocatedmemory)
* 4. [Storing and addressing arrays in dynamically allocated memory](#Storingandaddressingarraysindynamicallyallocatedmemory)

<!-- vscode-markdown-toc-config
	numbering=true
	autoSave=true
	/vscode-markdown-toc-config -->
<!-- /vscode-markdown-toc -->

##  1. <a name='Allocatememoryatruntime'></a>Allocate memory at runtime
- Allocate memory in the heap using malloc (memory allocation).
  - So far we use `stack` aka for so called `automatic duration` variables which only persist on their own block or function.
  - `Dinamically allocated memory` (heap) is explicitly managed, so allocated and freed
    - To use it in c we need `stdlib`
- IF we run the code below we see:
  - there are two red blocks and one white block no middle
    - first block: `00 00 00 08` means that 8 bytes are reserved. four we reserved and other 4 are for the other red block.
    - second block: `00 00 00 00` reserved blocks using `malloc`
    - third block:` 00 00 EE F9` hexadecimal number which represents how heap memory is remaining
![Alt text](image-6.png)
``` c
#include <stdlib.h>
int main(void){
    //! showMemory(start=272)
    malloc(4);
    return 0;
}
```
- If we add another `malloc` we can see how heap memory is managed:
  - first block: `00 00 00 08` means that 8 bytes are reserved. four we reserved and other 4 are for the other red block.
  - second block: `00 00 00 00` reserved blocks using `malloc`
  - third block:` 00 00 EE F1` hexadecimal number which represents how heap memory is remaining (which is the result of `00 00 EE F9 - 08` )

![Alt text](image-7.png)
``` c
#include <stdlib.h>
int main(void){
    malloc(4);
    malloc(4);
    return 0;
}
```
- malloc is architecture dependent. So for the online compiler that im using, the memory is allocated in **multiples of 4**.
- For the code below we see:
  - In the first malloc
    - `0C` for `8 + 4` bits allocated.
      - `8` because is the minimum memory in the compiler to allocate 5 bytes (remember multiples of 4??)
      - and `4` to show the remaining heap memory
![Alt text](image-8.png)
  - In the second malloc the memory is managed as follows:
    
![Alt text](image-9.png)
``` c
#include <stdlib.h>
int main(void){
    malloc(5);
    malloc(5);
    return 0;
}
```
- normally malloc is used with `sizeof` and variables (no using constants).
### Exercise
``` c
#include <stdlib.h>
int main(void){
    //! showMemory(start=272)
    malloc(3*sizeof(int));
    malloc(4*sizeof(double));
    return 0;
}
```
- To store where the memory is allocated we need a pointer.
``` c
#include <stdlib.h>
int main(void){
    //! showMemory(start=272)
    int * intptr;
    double * doubleptr;
    intptr = (int *) malloc(sizeof(int));
    doubleptr = (double *) malloc(sizeof(double));
    return 0;
}
```
- Pointers
![Alt text](image-10.png)
- The memory allocated
![Alt text](image-11.png)


##  2. <a name='Allocatingmemoryatruntime'></a>Allocating memory at runtime

``` c
```

``` c
```

``` c
```
### Exercise
``` c
```

##  3. <a name='Freeingdynamicallyallocatedmemory'></a>Freeing dynamically allocated memory
``` c
```

``` c
```

``` c
```
### Exercise
``` c
```

##  4. <a name='Storingandaddressingarraysindynamicallyallocatedmemory'></a>Storing and addressing arrays in dynamically allocated memory
``` c
```

``` c
```

``` c
```
### Exercise
``` c
```